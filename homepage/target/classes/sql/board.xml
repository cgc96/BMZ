<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="org.justking.homepage.sql.board">

	<!-- 게시판 글 작성 -->
	<insert id="create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes})
	</insert>
	
	<!-- 금정구 게시판 글 작성 -->
	<insert id="1create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes, map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'geumjeong')
	</insert>

	<!-- 북구 게시판 글 작성 -->
	<insert id="2create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes,map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'bukgu')
	</insert>
	
	<!-- 남구 게시판 글 작성 -->
	<insert id="3create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes,map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'namgu')
	</insert>
	
	<!-- 부산진구 게시판 글 작성 -->
	<insert id="4create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes,map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'busanjin')
	</insert>
	
	<!-- 동구 게시판 글 작성 -->
	<insert id="5create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes,map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'donggu')
	</insert>
	
	<!-- 강서구 게시판 글 작성 -->
	<insert id="6create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes,map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'gangseo')
	</insert>
	
	<!-- 동래구 게시판 글 작성 -->
	<insert id="7create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes,map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'dongnae')
	</insert>
	
	<!-- 기장 게시판 글 작성 -->
	<insert id="8create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes,map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'gijang')
	</insert>
	
	<!-- 중구 게시판 글 작성 -->
	<insert id="9create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes,map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'junggu')
	</insert>
	
	<!-- 사하구 게시판 글 작성 -->
	<insert id="10create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes,map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'saha')
	</insert>
	
	<!-- 사상 게시판 글 작성 -->
	<insert id="11create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes,map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'sasang')
	</insert>
	
	<!-- 서구 게시판 글 작성 -->
	<insert id="12create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes,map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'seogu')
	</insert>
	
	<!-- 수영 게시판 글 작성 -->
	<insert id="13create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes,map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'suyeong')
	</insert>
	
	<!-- 영도 게시판 글 작성 -->
	<insert id="14create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes,map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'yeongdo')
	</insert>
	
	<!-- 해운대 게시판 글 작성 -->
	<insert id="15create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes,map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'haeundae')
	</insert>
	
	<!-- 연제 게시판 글 작성 -->
	<insert id="16create">
		INSERT INTO article(article_no, title, content, writer, regdate, viewcnt, likes, dislikes,map, gu)
		values(#{articleNo}, #{title}, #{content}, #{writer}, #{regDate}, #{viewCnt}, #{likes}, #{dislikes}, #{map}, 'yeonje')
	</insert>
	
	<select id="read" resultMap="ArticleResultMap">
		SELECT article_no, title, content, writer, regdate, viewcnt, likes, dislikes, map
		FROM article
		WHERE article_no = #{articleNo}
	</select>
	
	
	<update id="update">
		UPDATE article
		SET
			title = #{title}, content = #{content}
		WHERE
			article_no = #{articleNo}
	</update>
	
	<delete id="delete">
		DELETE FROM article
		WHERE article_no = #{articleNo}
	</delete>

	
	<!-- 페이지당 10개씩 출력-->
	<select id="listPaging" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 
				
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	<!-- 금정구 페이지당 10개씩 출력-->
	<select id="geumjeong" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'geumjeong'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
		<!-- 강서구 페이지당 10개씩 출력-->
	<select id="gangseo" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'gangseo'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	<select id="namgu" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'namgu'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	<select id="haeundae" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'haeundae'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	<select id="bukgu" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'bukgu'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	<select id="busanjin" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'busanjin'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	<select id="donggu" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'donggu'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	<select id="dongnae" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'dongnae'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	<select id="gijang" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'gijang'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	<select id="junggu" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'junggu'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	<select id="saha" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'saha'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	<select id="sasang" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'sasang'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	<select id="seogu" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'seogu'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	<select id="suyeong" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'suyeong'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	<select id="yeongdo" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'yeongdo'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	<select id="yeonje" resultMap="ArticleResultMap">
		<![CDATA[
		SELECT article_no, 
			title, 
			content, 
			writer, 
			regdate,
			viewcnt,
			likes,
			dislikes
		FROM article
		WHERE article_no > 0 and
				gu = 'yeonje'
		ORDER BY article_no DESC, regdate DESC
		LIMIT #{pageStart}, #{perPageNum}
		]]>
	</select>
	
	
	<!-- 게시물 개수-->
	<select id="countArticles" resultType="int">
		<![CDATA[
		SELECT COUNT(article_no)
		FROM article
		WHERE article_no > 0 and gu = #{gu}
		]]>
	</select>
	
	
	<update id="updateViewCnt">
		UPDATE article
		SET viewcnt = viewcnt + 1
		WHERE article_no = #{articleNo}
	</update>
	
	<update id="recommend">
		UPDATE article
		SET likes = likes + 1
		WHERE article_no = #{articleNo}
	</update>
	
	<update id="nonrecommend">
		UPDATE article
		SET dislikes = dislikes + 1
		WHERE article_no = #{articleNo}
	</update>
	
	
	
	<resultMap id="ArticleResultMap" type="BoardDTO" >
		<id property = "articleNo" column="article_no"/>
		<result property = "title" column="title"/>
		<result property = "content" column="content"/>
		<result property = "writer" column="writer"/>
		<result property = "regDate" column="regdate"/>
		<result property = "viewCnt" column="viewcnt"/>
		<result property = "likes" column="likes"/>
		<result property = "dislikes" column="dislikes"/>
		<result property = "gu" column="gu"/>
		<result property = "map" column="map"/>
		
	</resultMap>
	

</mapper>